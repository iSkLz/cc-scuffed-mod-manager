<!DOCTYPE HTML>

<html>
	<head>
		<meta charset="UTF-8" />
		<title>Scuffed Mod Manager</title>
		
		<!-- External Libraries (Minified) -->
		<!--script src="node_modules/jquery/dist/jquery.min.js"></script>
		<script src="node_modules/materialize-css/dist/js/materialize.min.js"></script>
		<script src="node_modules/react/umd/react.production.min.js"></script>
		<script src="node_modules/react-dom/umd/react-dom.production.min.js"></script>
		<script src="node_modules/dompurify/dist/purify.min.js"></script-->

		<!-- External Libraries (Unminified) -->
		<script src="node_modules/jquery/dist/jquery.js"></script>
		<script src="node_modules/materialize-css/dist/js/materialize.js"></script>
		<script src="node_modules/react/umd/react.development.js"></script>
		<script src="node_modules/react-dom/umd/react-dom.development.js"></script>
		<script src="node_modules/dompurify/dist/purify.js"></script>

		<!-- More External Libraries (Mixed) -->
		<script src="lib/marked.js"></script>
		<script type="module">
			// Change this to /ccloader/common/vendor-libs/semver.js for it to work in-game without
			// having to distribute it again
			import { SemVer } from "./lib/semver.js";
			window.SemVer = SemVer;
		</script>
		
		<!-- Fonts -->
		<link rel="stylesheet" href="fnt/ico.css"></script>
		<link rel="stylesheet" href="fnt/livvic.css"></script>
		
		<!-- Main Stylesheet (with MaterializeCSS) (Unminified) -->
		<link rel="stylesheet" href="css/main.css" />

		<script>
			// Makeshift function to retrieve some fake mod data
			// IIFE to avoid leaking variables, since I'm very dumb and I do that very often
			(function() {
				window.retrieveMods = function() {
					return new Promise((resolve, reject) => {
						$.ajax({
							method: "GET",
							url: "data.json",
							success: (data) => {
								// jQuery will automatically parse the data if it identifies it as JSON
								// This code is a backup in case it doesn't
								if (typeof(data) === "object")
									var arr = data;
								else
									var arr = JSON.parse(data);

								resolve(arr);
							},
							error: (jqXHR, status, err) => {
								reject(new Error(err));
							}
						});
					});
				};
			})();
		</script>

		<!-- Main Script -->
		<script type="module" src="js/main.js"></script>
	</head>
	
	<body>
		<div class="fixed-action-btn" style="opacity: 0.0" id="menu-fab">
			<a class="btn-floating btn-large blue">
				<i class="large material-icons">menu</i>
			</a>
			<ul>
				</li>
				<li class="tooltipped" data-position="left" data-tooltip="Options">
					<a class="btn-floating red">
						<i class="material-icons">settings</i>
					</a>
				</li>
				<li class="tooltipped" data-position="left" data-tooltip="Quit">
					<a class="btn-floating yellow">
						<i class="material-icons">exit_to_app</i>
					</a>
				</li>
				<li class="tooltipped" data-position="left" data-tooltip="Back To CrossCode">
					<a class="btn-floating green" onclick='window.location = "/ccloader/main.html"'>
						<i class="material-icons">arrow_back</i>
					</a>
				</li>
			</ul>
		</div>
		
		<!-- TODO: Move this into main.jsx -->
		<script>
			$("#menu-fab").floatingActionButton();
			$('.tooltipped').tooltip();
		</script>
	
		<div id="loader"></div>
		<div id="app"></div>
		<div id="dialogs"></div>
	</body>
</html>